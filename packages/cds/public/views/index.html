<div class="cds" data-ng-controller="CdsController">
	<div class="alert alert-{{ status.type }} alert-dismissable" ng-hide="!status.text">
		<button type="button" class="close" data-dismiss="alert" aria-hidden="true" ng-click="status.text=''">&times;</button>
		{{ status.text }}
	</div>
	<ul class="nav nav-pills">
		<li ng-repeat="c in categories" ng-class="c.name === category.name ? 'active':''">
			<a href="#!/cat/{{c.name}}">{{c.name}}</a>
		</li>
	</ul>
	<div class="filter-bar" ng-hide="!category">
		<div class="btn-group">
			<button type="button" class="btn btn-sm btn-primary dropdown-toggle" data-toggle="dropdown">Objects <span class="caret"></span></button>
			<ul class="dropdown-menu" role="menu">
				<li ng-repeat="t in tags" ng-class="{active:t.active}"><a href="#" tabindex="-1" ng-click="toggleTag(t, $event)">{{t.name}}</a></li>
				<li class="divider"></li>
				<li><a href="#" ng-click="deselectAll('tags', $event)">Deselect all</a>
			</ul>
		</div>
		<div class="btn-group" ng-repeat="f in fgroups">
			<button type="button" class="btn btn-sm btn-primary dropdown-toggle" data-toggle="dropdown">{{f.name}} <span class="caret"></span></button>
			<ul class="dropdown-menu" role="menu">
				<li ng-repeat="p in fdata[f.name]" ng-class="{active:p.active}"><a href="#" tabindex="-1" ng-click="toggleProp(p, $event)">{{p.name}}</a></li>
				<li class="divider"></li>
				<li><a href="#" ng-click="deselectAll(f.name, $event)">Deselect all</a>
			</ul>
		</div>
	</div>
	<div class="main-view" ng-hide="!category">
		<div ng-class="{'shop-box':true, closed:model.showMode === 'right', wide:model.showMode === 'left'}">
			<button type="button" class="close right-corner" ng-click="action.close('left')">
				<span ng-class="{glyphicon:true, 'glyphicon-chevron-left':model.showMode !== 'right', 'glyphicon-chevron-right':model.showMode === 'right'}"></span>
			</button>
			<div class="block-header" ng-hide="shopHidden">
				<h4 class="pull-left">{{category.name}} SHOP</h4>
				<ul class="pagination" ng-hide="!shopPages.length">
					<li ng-class="{disabled:shopPage == 1}"><a href="#{{shopPage - 1}}" ng-click="action.gotoPage($event, 'shop')">&laquo;</a></li>
					<li ng-repeat="p in shopPages" ng-class="{active:p.n == shopPage}"><a href="#{{p.n}}" ng-click="action.gotoPage($event, 'shop')">{{p.t}}</a></li>
					<li ng-class="{disabled:shopPage == shopPages[shopPages.length-1].n}"><a href="#{{shopPage+1}}" ng-click="action.gotoPage($event, 'shop')">&raquo;</a></li>
				</ul>
			</div>
			<div class="shop-items clearfix" ng-hide="shopHidden">
				<div class="shopitem" ng-repeat="item in shop.items">
					<img ng-src="{{item.image_src}}"/>
					<span>{{item.name}}</span>
				</div>
			</div>
		</div>
		<div ng-class="{'d3-box':true, closed:model.showMode === 'left', wide:model.showMode === 'right'}">
			<button type="button" class="close left-corner" ng-click="action.close('right')">
				<span ng-class="{glyphicon:true, 'glyphicon-chevron-left':model.showMode === 'left', 'glyphicon-chevron-right':model.showMode !== 'left'}"></span>
			</button>
			<div class="block-header">
				<h4>3D MODELS</h4>
				<ul class="pagination">
					<li ng-class="{disabled:d3Page == 1}"><a href="#{{d3Page - 1}}" ng-click="action.gotoPage($event, 'd3')">&laquo;</a></li>
					<li ng-repeat="p in d3Pages" ng-class="{active:p.n == d3Page}"><a href="#{{p.n}}" ng-click="action.gotoPage($event, 'd3')">{{p.t}}</a></li>
					<li ng-class="{disabled:d3Page == d3Pages[d3Pages.length-1].n}"><a href="#{{d3Page+1}}" ng-click="action.gotoPage($event, 'd3')">&raquo;</a></li>
				</ul>
			</div>
			<div class="d3-items clearfix">
				<div class="d3item" ng-repeat="item in d3.items">
					<img ng-src="{{item.image_src}}"/>
					<span>{{item.name}}</span>
				</div>
			</div>
		</div>
	</div>
</div>
